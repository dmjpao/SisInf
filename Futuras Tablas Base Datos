--Scripts Necesarios [Base de Datos]:


CREATE TABLE Proveedor (
  idProveedor SERIAL  NOT NULL ,
  Nombre VARCHAR    ,
  Correo VARCHAR    ,
  Telefono INTEGER    ,
  Empresa VARCHAR      ,
PRIMARY KEY(idProveedor));



CREATE TABLE Producto_Detalle (
  idProducto_Detalle SERIAL  NOT NULL ,
  Marca VARCHAR    ,
  Precio FLOAT    ,
  Especificaciones VARCHAR      ,
PRIMARY KEY(idProducto_Detalle));



CREATE TABLE Sexo (
  idSexo SERIAL  NOT NULL ,
  Sexo VARCHAR      ,
PRIMARY KEY(idSexo));



CREATE TABLE Rol (
  idRol SERIAL  NOT NULL ,
  Nombre VARCHAR      ,
PRIMARY KEY(idRol));



CREATE TABLE Cliente (
  idCliente SERIAL  NOT NULL ,
  Nombre VARCHAR    ,
  Telefono INTEGER    ,
  FechaNacimiento DATE      ,
PRIMARY KEY(idCliente));



CREATE TABLE Interfaz (
  idInterfaz SERIAL  NOT NULL ,
  Nombre VARCHAR      ,
PRIMARY KEY(idInterfaz));



CREATE TABLE Usuario (
  idUsuario SERIAL  NOT NULL ,
  Sexo_idSexo INTEGER   NOT NULL ,
  Nombre VARCHAR    ,
  Contrasena VARCHAR    ,
  FechaNacimiento DATE    ,
  Salario FLOAT      ,
PRIMARY KEY(idUsuario),
  FOREIGN KEY(Sexo_idSexo)
    REFERENCES Sexo(idSexo));



CREATE TABLE Producto (
  idProducto SERIAL  NOT NULL ,
  Producto_Detalle_idProducto_Detalle INTEGER   NOT NULL ,
  Nombre VARCHAR    ,
  Cantidad INTEGER      ,
PRIMARY KEY(idProducto, Producto_Detalle_idProducto_Detalle),
  FOREIGN KEY(Producto_Detalle_idProducto_Detalle)
    REFERENCES Producto_Detalle(idProducto_Detalle));



CREATE TABLE Usuario_has_Rol (
  Usuario_idUsuario INTEGER   NOT NULL ,
  Rol_idRol INTEGER   NOT NULL ,
  Activo BOOL   NOT NULL ,
  FechaInicio DATE    ,
  FechaFinal DATE      ,
PRIMARY KEY(Usuario_idUsuario, Rol_idRol, Activo),
  FOREIGN KEY(Usuario_idUsuario)
    REFERENCES Usuario(idUsuario),
  FOREIGN KEY(Rol_idRol)
    REFERENCES Rol(idRol));



CREATE TABLE Venta (
  idVenta INTEGER   NOT NULL ,
  Cliente_idCliente INTEGER   NOT NULL ,
  Fecha VARCHAR   NOT NULL ,
  Producto_idProducto INTEGER   NOT NULL ,
  Producto_Detalle_idProducto_Detalle INTEGER   NOT NULL ,
  Monto FLOAT   NOT NULL   ,
PRIMARY KEY(idVenta, Cliente_idCliente, Fecha, Producto_idProducto, Producto_Detalle_idProducto_Detalle),
  FOREIGN KEY(Cliente_idCliente)
    REFERENCES Cliente(idCliente),
  FOREIGN KEY(Producto_idProducto, Producto_Detalle_idProducto_Detalle)
    REFERENCES Producto(idProducto, Producto_Detalle_idProducto_Detalle));



CREATE TABLE Compra (
  Proveedor_idProveedor INTEGER   NOT NULL ,
  Fecha VARCHAR   NOT NULL ,
  Producto_idProducto INTEGER   NOT NULL ,
  Producto_Detalle_idProducto_Detalle INTEGER   NOT NULL ,
  CantidadComprada INTEGER      ,
PRIMARY KEY(Proveedor_idProveedor, Fecha, Producto_idProducto, Producto_Detalle_idProducto_Detalle),
  FOREIGN KEY(Proveedor_idProveedor)
    REFERENCES Proveedor(idProveedor),
  FOREIGN KEY(Producto_idProducto, Producto_Detalle_idProducto_Detalle)
    REFERENCES Producto(idProducto, Producto_Detalle_idProducto_Detalle));


CREATE TABLE Rol_has_Interfaz (
  Rol_idRol INTEGER   NOT NULL ,
  Interfaz_idInterfaz INTEGER   NOT NULL ,
  Activo BOOL    ,
  FechaInicio DATE    ,
  FechaFianl DATE      ,
PRIMARY KEY(Rol_idRol, Interfaz_idInterfaz),
  FOREIGN KEY(Rol_idRol)
    REFERENCES Rol(idRol),
  FOREIGN KEY(Interfaz_idInterfaz)
    REFERENCES Interfaz(idInterfaz));



CREATE TABLE Sesion (
  idSesion SERIAL  NOT NULL ,
  Usuario_idUsuario INTEGER   NOT NULL ,
  PID INTEGER    ,
  IP VARCHAR      ,
PRIMARY KEY(idSesion, Usuario_idUsuario),
  FOREIGN KEY(Usuario_idUsuario)
    REFERENCES Usuario(idUsuario));


